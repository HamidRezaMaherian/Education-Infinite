@inherits Fluxor.Blazor.Web.Components.FluxorComponent
  
<header data-anim="fade" data-add-bg="" class="header -type-4 -shadow bg-white js-header">
	<div class="header__container border-bottom-light py-10">
		<div class="row justify-between items-center">

			<div class="col-auto">
				<div class="header-left d-flex items-center">

					<div class="header__logo pl-30 xl:pl-20 md:pl-0">
						<a data-barba href="/">
							<img src="img/general/logo-dark.svg" alt="logo">
						</a>
					</div>


					<div class="header__explore px-30 xl:px-20 -before-border -after-border xl:d-none">
						<a href="#" class="d-flex items-center" data-el-toggle=".js-explore-toggle">
							<i class="icon icon-explore ml-15"></i>
							دسته بندی ها
						</a>

						<div class="explore-content py-25 rounded-8 bg-white toggle-element js-explore-toggle">

							@foreach (var category in CourseCategories)
							{
								<div class="explore__item">
									@if (category.SubCategories.Any())
									{
										<a href="#" class="d-flex items-center justify-between text-dark-1">
											@(category.Name)<div class="icon-chevron-left text-11"></div>
										</a>
										<div class="explore__subnav rounded-8">
											@foreach (var subCat in category.SubCategories)
											{
												<a class="text-dark-1" href="/courses/list/@(subCat.Id)">@(subCat.Name)</a>
											}
											<a href="courses/list/@(category.Id)" class="text-dark-1 underline">همه دسته بندی ها</a>
										</div>
									}
									else
									{
										<a href="/courses/list/@(category.Id)" class="text-dark-1">@(category.Name)</a>
									}
								</div>

							}
							<div class="explore__item">
								<a href="courses/list" class="text-purple-1 underline">همه دسته بندی ها</a>
							</div>
						</div>
					</div>


					<div class="header-menu js-mobile-menu-toggle pl-30 xl:pl-20">
						<div class="header-menu__content">
							<div class="mobile-bg js-mobile-bg"></div>

							<div class="d-none xl:d-flex items-center px-20 py-20 border-bottom-light">
								<a href="login.html" class="text-dark-1">ورود</a>
								<a href="signup.html" class="text-dark-1 ml-30">ثبت نام</a>
							</div>

							<div class="menu js-navList">
								<ul class="menu__nav text-dark-1 -is-active">
									<li>
										<a data-barba href="contact-1.html">تخفیف‌ها</a>
									</li>

									<li>
										<a data-barba href="contact-1.html">درباره ما</a>
									</li>

									<li>
										<a data-barba href="contact-1.html">تماس با ما</a>
									</li>
								</ul>
							</div>

							<div class="mobile-footer px-20 py-20 border-top-light js-mobile-footer">
								<div class="mobile-footer__number">
									<div class="text-17 fw-500 text-dark-1">تماس با ما</div>
									<div class="text-17 fw-500 text-purple-1">02188888888</div>
								</div>

								<div class="lh-2 mt-10">
									<div>تهران، خیابان ولیعصر<br> خیابان پارک وی مجتمع صدف</div>
									<div>example@educrat.com</div>
								</div>

								<div class="mobile-socials mt-10">

									<a href="#" class="d-flex items-center justify-center rounded-full size-40">
										<i class="fa fa-facebook"></i>
									</a>

									<a href="#" class="d-flex items-center justify-center rounded-full size-40">
										<i class="fa fa-twitter"></i>
									</a>

									<a href="#" class="d-flex items-center justify-center rounded-full size-40">
										<i class="fa fa-instagram"></i>
									</a>

									<a href="#" class="d-flex items-center justify-center rounded-full size-40">
										<i class="fa fa-linkedin"></i>
									</a>

								</div>
							</div>
						</div>

						<div class="header-menu-close" data-el-toggle=".js-mobile-menu-toggle">
							<div class="size-40 d-flex items-center justify-center rounded-full bg-white">
								<div class="icon-close text-dark-1 text-16"></div>
							</div>
						</div>

						<div class="header-menu-bg"></div>
					</div>

				</div>
			</div>


			<div class="col-auto">
				<div class="header-right d-flex items-center">
					<div class="header-right__icons text-white d-flex items-center">
						<div class="header-search-field">
							<form action="#">
								<div class="header-search-field__group">
									<input type="text" placeholder="جستجوی دوره">
									<button type="submit">
										<i class="icon icon-search"></i>
									</button>
								</div>
							</form>
						</div>


						<div class="relative -after-border pr-20 sm:pr-15">
							<button class="d-flex items-center text-dark-1" data-el-toggle=".js-cart-toggle">
								<i class="text-20 icon icon-basket"></i>
							</button>

							<div class="toggle-element js-cart-toggle">
								@if (_shoppingCartItems.Any())
								{
									<div class="header-cart bg-white -dark-bg-dark-1 rounded-8">
										<div class="px-30 pt-30 pb-10">
											@foreach (var item in _shoppingCartItems)
											{
												<div class="row justify-between x-gap-40 pb-20">
													<div class="col">
														<div class="row x-gap-10 y-gap-10">
															<div class="col-6">
																<img src="@(item.MainImage)" alt="image">
															</div>

															<div class="col">
																<div class="text-dark-1 lh-15">@(item.Name)</div>

																<div class="d-flex items-center mt-10">
																	@* <div class="lh-12 fw-500 line-through text-light-1 ml-10">179</div> *@
																	<div class="text-15 lh-12 fw-500 text-dark-1">@(item.FullPrice) تومان</div>
																</div>
															</div>
														</div>
													</div>

													<div class="col-auto">
														<button><img src="img/menus/close.svg" alt="icon"></button>
													</div>
												</div>
											}
										</div>

										<div class="px-30 pt-20 pb-30 border-top-light">
											<div class="d-flex justify-between">
												<div class="text-18 lh-12 text-dark-1 fw-500">جمع کل:</div>
												<div class="text-18 lh-12 text-dark-1 fw-500">@(_shoppingCartItems.Sum(i => i.FullPrice)) تومان</div>
											</div>

											<div class="row x-gap-20 y-gap-10 pt-30">
												<div class="col-sm-6">
													<button class="button py-20 -dark-1 text-white -dark-button-white col-12">مشاهده سبد</button>
												</div>
												<div class="col-sm-6">
													<button class="button py-20 -purple-1 text-white col-12">تسویه حساب</button>
												</div>
											</div>
										</div>
									</div>

								}
								else
								{
									<div class="header-cart bg-white -dark-bg-dark-1 rounded-8">
										<p>سبد شما خالی است</p>
									</div>

								}
							</div>
						</div>


						<div class="d-none xl:d-block pr-20 sm:pr-15">
							<button class="text-dark-1 items-center" data-el-toggle=".js-mobile-menu-toggle">
								<i class="text-11 icon icon-mobile-menu"></i>
							</button>
						</div>

					</div>

					<div class="header-right__buttons d-flex items-center mr-30 xl:mr-20 lg:d-none">
						<AuthorizeView>
							<Authorized>
								<p> خوش آمدی @(context.User.Identity?.Name!)</p>
								<a href="@context.User.FindFirst("bff:logout_url")?.Value" class="button h-50 px-30 -purple-1 -rounded text-white mr-20">خروج</a>
							</Authorized>
							<NotAuthorized>
								<a href="bff/login" class="button -underline text-purple-1">ورود</a>
								<a href="bff/signup" class="button h-50 px-30 -purple-1 -rounded text-white mr-20">ثبت نام</a>
							</NotAuthorized>
						</AuthorizeView>
					</div>
				</div>
			</div>

		</div>
	</div>
</header>
